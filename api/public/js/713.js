"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[713],{1713:(e,n,t)=>{t.r(n),t.d(n,{default:()=>d});var s=t(7757),a=t.n(s),i=t(2986);function o(e,n,t,s,a,i,o){try{var r=e[i](o),l=r.value}catch(e){return void t(e)}r.done?n(l):Promise.resolve(l).then(s,a)}var r,l;const c={name:"Login",components:{},mounted:function(){this.$nextTick((function(){}))},data:function(){return{loader:null,loading:!1,btnloading:!1,snackbar:!1,loggedinemail:"",loggedinpassword:"",show3:!1,password:"Password",erorrs:{email:"",password:""},rules:{required:function(e){return!!e||"Required."},email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid e-mail."}}}},methods:{dologin:(r=a().mark((function e(){var n,t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.form.validate()){e.next=20;break}return this.btnloading=!0,e.next=4,i.Z.dologin(this.loggedinemail,this.loggedinpassword);case 4:if(n=e.sent,this.btnloading=!1,!n.data){e.next=20;break}if(!n.status){e.next=18;break}return this.$store.commit("setLoginStatus",!0),this.$store.commit("setAuthToken",n.data),e.next=12,i.Z.me();case 12:t=e.sent,this.$store.commit("setloggedInUser",t),t.permissions.length>0&&(s=t.permissions.map((function(e){return e.permission_id})),this.$store.commit("setPermissions",s)),this.$router.push({name:"auth.dashboard"}),e.next=20;break;case 18:this.erorrs.email=n.data,this.snackbar=!0;case 20:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,n=arguments;return new Promise((function(t,s){var a=r.apply(e,n);function i(e){o(a,t,s,i,l,"next",e)}function l(e){o(a,t,s,i,l,"throw",e)}i(void 0)}))},function(){return l.apply(this,arguments)})},watch:{}};const d=(0,t(1900).Z)(c,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",{staticClass:"grey lighten-5 loginscreen"},[t("v-card",{staticClass:"d-flex align-content-center flex-wrap",attrs:{outlined:"",tile:""}},[t("v-row",{staticClass:"pa-10",attrs:{"no-gutters":""}},[t("v-col",{attrs:{md:"6",offset:"3"}},[t("div",{staticClass:"justify-center"},[t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.loading,callback:function(n){e.loading=n},expression:"loading"}},[t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"Email",clearable:""},model:{value:e.loggedinemail,callback:function(n){e.loggedinemail=n},expression:"loggedinemail"}}),e._v(" "),t("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",rules:[e.rules.required],type:e.show3?"text":"password",name:"input-10-2",label:"Password",value:"",clearable:""},on:{"click:append":function(n){e.show3=!e.show3}},model:{value:e.loggedinpassword,callback:function(n){e.loggedinpassword=n},expression:"loggedinpassword"}}),e._v(" "),t("v-btn",{attrs:{elevation:"1",color:"warning",large:"",raised:"",loading:e.btnloading,disabled:e.btnloading},on:{click:e.dologin}},[e._v("Login")])],1)],1)])],1)],1),e._v(" "),t("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(n){var s=n.attrs;return[t("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(n){e.snackbar=!1}}},"v-btn",s,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.snackbar,callback:function(n){e.snackbar=n},expression:"snackbar"}},[e._v("\n    "+e._s(e.erorrs.email)+"\n\n    ")])],1)}),[],!1,null,null,null).exports}}]);